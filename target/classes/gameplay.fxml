<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.text.*?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx/11.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="GamePlayController"
            stylesheets="@styles.css"
            prefWidth="1000" prefHeight="650"
            style="-fx-background-color: linear-gradient(to bottom, #b0e6e0, #89c3d1);">

    <!-- ================= MENU BAR ================= -->
    <top>
        <MenuBar>
            <Menu text="Options">
                <MenuItem text="Exit" onAction="#handleExit"/>
                <MenuItem text="Fresh Start" onAction="#handleFreshStart"/>
                <MenuItem text="New Look" onAction="#handleNewLook"/>
            </Menu>
        </MenuBar>
    </top>

    <!-- ================= CENTER AREA ================= -->
    <center>
        <HBox spacing="40" alignment="TOP_CENTER" style="-fx-padding: 20;">

            <!-- ============= LEFT COLUMN ============= -->
            <VBox spacing="18" alignment="TOP_CENTER" prefWidth="430">

                <!-- Player Hand -->
                <VBox spacing="6" alignment="CENTER" styleClass="player-area">
                    <Label text="Your Hand" style="-fx-font-size: 18; -fx-font-weight: bold; -fx-text-fill: #2e7d32;"/>
                    <HBox spacing="8" alignment="CENTER">
                        <VBox spacing="5" alignment="CENTER">
                            <ImageView fx:id="playerCard1" fitWidth="70" fitHeight="100" preserveRatio="true" styleClass="card-slot"/>
                            <Label fx:id="playerCard1Text" text="" styleClass="card-text-label"/>
                        </VBox>
                        <VBox spacing="5" alignment="CENTER">
                            <ImageView fx:id="playerCard2" fitWidth="70" fitHeight="100" preserveRatio="true" styleClass="card-slot"/>
                            <Label fx:id="playerCard2Text" text="" styleClass="card-text-label"/>
                        </VBox>
                        <VBox spacing="5" alignment="CENTER">
                            <ImageView fx:id="playerCard3" fitWidth="70" fitHeight="100" preserveRatio="true" styleClass="card-slot"/>
                            <Label fx:id="playerCard3Text" text="" styleClass="card-text-label"/>
                        </VBox>
                    </HBox>
                </VBox>

                <!-- Betting Controls -->
                <VBox spacing="12" alignment="CENTER" styleClass="betting-panel">
                    <Label text="Place Your Bets" style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: #7d4ab7;"/>

                    <VBox spacing="8" alignment="CENTER_LEFT">
                        <Label text="Ante Bet: $5 - $25" styleClass="bet-label"/>
                        <Slider fx:id="anteBetSlider" min="5" max="25" value="5" majorTickUnit="5"
                                showTickLabels="true" showTickMarks="true" snapToTicks="true" prefWidth="250"/>
                        <Label fx:id="anteBetLabel" text="Ante: $5" styleClass="bet-display-label"/>

                        <Label text="Pair Plus Bet: $0 - $25" styleClass="bet-label"/>
                        <Slider fx:id="pairPlusBetSlider" min="0" max="25" value="0" majorTickUnit="5"
                                showTickLabels="true" showTickMarks="true" snapToTicks="true" prefWidth="250"/>
                        <Label fx:id="pairPlusBetLabel" text="Pair Plus: $0" styleClass="bet-display-label"/>
                    </VBox>

                    <Button fx:id="dealButton" text="DEAL" onAction="#handleDealButton"
                            styleClass="action-button deal-button" prefWidth="120" prefHeight="38"/>
                </VBox>

            </VBox>

            <!-- ============= RIGHT COLUMN ============= -->
            <VBox spacing="18" alignment="TOP_CENTER" prefWidth="430">

                <!-- Dealer Hand -->
                <VBox spacing="6" alignment="CENTER" styleClass="dealer-area">
                    <Label text="Dealer's Hand" style="-fx-font-size: 18; -fx-font-weight: bold; -fx-text-fill: #7d4ab7;"/>
                    <HBox spacing="8" alignment="CENTER">
                        <VBox spacing="5" alignment="CENTER">
                            <ImageView fx:id="dealerCard1" fitWidth="70" fitHeight="100" preserveRatio="true" styleClass="card-slot"/>
                            <Label fx:id="dealerCard1Text" text="" styleClass="card-text-label"/>
                        </VBox>
                        <VBox spacing="5" alignment="CENTER">
                            <ImageView fx:id="dealerCard2" fitWidth="70" fitHeight="100" preserveRatio="true" styleClass="card-slot"/>
                            <Label fx:id="dealerCard2Text" text="" styleClass="card-text-label"/>
                        </VBox>
                        <VBox spacing="5" alignment="CENTER">
                            <ImageView fx:id="dealerCard3" fitWidth="70" fitHeight="100" preserveRatio="true" styleClass="card-slot"/>
                            <Label fx:id="dealerCard3Text" text="" styleClass="card-text-label"/>
                        </VBox>
                    </HBox>
                </VBox>

                <!-- Game Actions -->
                <VBox spacing="10" alignment="CENTER" styleClass="action-panel">
                    <Label text="Game Actions" style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: #7d4ab7;"/>

                    <HBox spacing="15" alignment="CENTER">
                        <Button fx:id="foldButton" text="FOLD" onAction="#handleFoldButton"
                                styleClass="action-button fold-button" prefWidth="100" prefHeight="38" disable="true"/>
                        <Button fx:id="playButton" text="PLAY" onAction="#handlePlayButton"
                                styleClass="action-button play-button" prefWidth="100" prefHeight="38" disable="true"/>
                        <Button fx:id="continueButton" text="CONTINUE" onAction="#handleContinueButton"
                                styleClass="action-button continue-button" prefWidth="100" prefHeight="38" disable="true"/>
                    </HBox>
                </VBox>

                <!-- Message Box -->
                <VBox spacing="5" alignment="CENTER" styleClass="message-panel">
                    <Label text="Game Messages" style="-fx-font-size: 14; -fx-font-weight: bold; -fx-text-fill: #7d4ab7;"/>
                    <TextArea fx:id="messageBox" prefHeight="60" editable="false"
                              styleClass="message-box" promptText="Game messages will appear here..."/>
                </VBox>

            </VBox>
        </HBox>
    </center>

    <!-- ================= BOTTOM AREA ================= -->
    <bottom>
        <VBox spacing="6" style="-fx-padding: 10;">
            <!-- Game Info Box -->
            <TextArea fx:id="gameInfoTextArea"
                      prefHeight="80"
                      wrapText="true"
                      editable="false"
                      styleClass="game-info"
                      promptText="Detailed game information will appear here..."/>

            <!-- Status Bar -->
            <HBox spacing="25" alignment="CENTER" styleClass="status-bar">
                <VBox alignment="CENTER">
                    <Label text="ANTE" styleClass="status-label"/>
                    <Label fx:id="anteBetLabelBottom" text="/$5" styleClass="status-amount"/>
                </VBox>
                <VBox alignment="CENTER">
                    <Label text="PAIR PLUS" styleClass="status-label"/>
                    <Label fx:id="pairPlusBetLabelBottom" text="/$0" styleClass="status-amount"/>
                </VBox>
                <VBox alignment="CENTER">
                    <Label text="PLAY" styleClass="status-label"/>
                    <Label fx:id="playBetLabel" text="/$0" styleClass="status-amount"/>
                </VBox>
                <VBox alignment="CENTER">
                    <Label text="WINNINGS" styleClass="status-label"/>
                    <Label fx:id="totalWinningsLabel" text="/$0" styleClass="status-amount-total"/>
                </VBox>
            </HBox>
        </VBox>
    </bottom>

</BorderPane>